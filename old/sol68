perl -e 'sub a{if(@{$_[1]}<5){return if @{$_[0]}+@{$_[1]}<5;my$a;for$a(0..$#{$_[0]}){a([@{$_[0]}[0..$a-1,$a+1..$#{$_[0]}]],[@{$_[1]},$_[0][$a]])}}else{b(@{$_[1]},@{$_[0]})}}sub b{%a=();$a{$_}=1 for(@_[0..4]);@a=sort{$a<=>$b}(map{$_[$_]+$_[($_+1)%5]}(0..4));@b=sort{$a<=>$b}(@_[5..9]);for$s($a[4]+$b[0]..$a[0]+$b[4]){print"@a/@b/@_[0..4] $s\n"if$d;%b=%a;$su=1;@o=();for(0..4){$v1=$_[$_];$v2=$_[($_+1)%5];$v3=$s-$v1-$v2;$o[$_]=$v3;print"i:$s $v1 $v2 $v3 $b{$v3}\n"if$d;if($b{$v3}++){$su=0;last}}if($su){print"SUCC:@{[%b]}\n";print"$s / @_[0..4] / @o\n";@r=sort{$o[$a]<=>$o[$b]}(0..4);$st=$r[0];print"RES:";for(0..4){print"".$o[($_+$st)%5].$_[($_+$st)%5].$_[($_+$st+1)%5]}print"\n";}}}$d=0;a([1..10],[])'|grep 'RES:................$'|sort
